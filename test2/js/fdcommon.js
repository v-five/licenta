/* generated Wed May 30 08:17:05 EDT 2012 */

var pinnedSiteDetection=new (function(){var b="pinSiteLastAccess";this.supportLevel={none:0,upgradeable:1,limited:2,full:3};this.getOSPinSupportLevel=function(){try{var d=navigator.userAgent;if(d.indexOf("Windows NT 6.1")!==-1){return this.supportLevel.full}else{if(d.indexOf("Windows NT 6.0")!==-1){return this.supportLevel.limited}else{if(d.indexOf("Windows NT")!==-1){return this.supportLevel.upgradeable}else{return this.supportLevel.none}}}}catch(c){return this.supportLevel.none}};this.abilityLevel={none:0,limited:1,full:2};this.getBrowserPinAbilityLevel=function(){try{var d=navigator.appVersion;if(this.browserCanPin){if(d.indexOf("Windows NT 6.0")!==-1){return this.abilityLevel.limited}else{return this.abilityLevel.full}}else{return this.abilityLevel.none}}catch(c){return this.abilityLevel.none}};this.getDaysSincePinAccess=function(){if(this.browserCanPin){if("localStorage" in window&&window.localStorage!==null){var e=-1;try{var f=window.localStorage;if(f[b]!=undefined){var c=new Date(f[b]);var e=Math.round(((new Date()).getTime()-c.getTime())/86400000);if(isNaN(e)){e=-1}}}catch(d){e=-1}return e}}else{return -1}};this.setSiteHasBeenPinnedFlag=function(){try{if("localStorage" in window&&window.localStorage!==null&&this.browserCanPin){window.localStorage[b]=new Date();return true}else{return false}}catch(c){return false}};this.removeSiteHasBeenPinnedFlag=function(){try{if("localStorage" in window&&window.localStorage!==null&&this.browserCanPin){window.localStorage.removeItem(b);return true}else{return true}}catch(c){return false}};try{this.browserCanPin=typeof window.external!="undefined"&&typeof window.external.msIsSiteMode!="undefined";this.viewingFromPin=this.browserCanPin&&window.external.msIsSiteMode()}catch(a){this.browserCanPin=false;this.viewingFromPin=false}this.siteHasBeenPinned=(this.getDaysSincePinAccess()>-1);this.hasFullPinAbilityBrowser=(this.getBrowserPinAbilityLevel()===this.abilityLevel.full);this.hasLimitedPinAbilityBrowser=(this.getBrowserPinAbilityLevel()===this.abilityLevel.limited);this.hasNoPinAbilityBrowser=(this.getBrowserPinAbilityLevel()===this.abilityLevel.none);this.hasFullPinSupportOS=(this.getOSPinSupportLevel()===this.supportLevel.full);this.hasLimitedPinSupportOS=(this.getOSPinSupportLevel()===this.supportLevel.limited);this.hasUpgradeablePinSupportOS=(this.getOSPinSupportLevel()===this.supportLevel.upgradeable);this.hasNoPinSupportOS=(this.getOSPinSupportLevel()==this.supportLevel.none)});jq.widget("ui.r9toptip",jq.ui.r9popover,{options:{at:"top",left:53,top:24},_destroyAll:function(){jq.ui.r9popover.get().r9toptip("destroy")},_onOverlayClick:function(){jq(".ui-dialog-content").r9toptip("close")},_position:function(a){isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show()}this.uiDialog.css({left:this.options.left,top:this.options.top});if(!isVisible){this.uiDialog.hide()}}});function Instasearch(a){}Instasearch.prototype={attach:function(a,c){if(!a.instasearchKeyDelay){return false}this.form=jq(c||a.e);this.form.data("instasearch",this);this.searched={};this.inputs=jq(this.form[0].elements).filter(function(){return this.type&&this.type.match(/text|select|checkbox/)&&this.name!="comparetosite"});this.inputs.bind("keydown.isrch blur.isrch change.isrch sbopen.isrch sbclose.isrch sbset.isrch",{delay:a.instasearchKeyDelay,handler:jq.proxy(this.uiidle,this),sbset:-1},jq.proxy(this.uievent,this));this.form.submit({self:this,timeout:a.instasearchTimeout},this.beforeSubmit);var b=this.form.data("events").submit;b.unshift(b.pop());this.log("IS attached. Delay: "+a.instasearchKeyDelay+","+a.instasearchTimeout);if(window.R9Admin){jq('<div position="absolute"><a href="#" onclick="Isrch.dbgwin(1);return false;">Debug</a></div>').appendTo(window.document.body)}window.Isrch=this;return true},validate:function(){var a=true;var b=[];this.inputs.each(function(){a=a&&this.value&&(this.type!="text"||this.value.length>=3);b.push(this.value)});return a&&b.join("-")||null},uievent:function(a,b){this.log("IS evend: "+a.type+" on "+a.target.name);if(this.evtimer){clearTimeout(this.evtimer)}if(a.type=="sbopen"){a.data.sbopen=1}if(a.type=="sbset"){this.log("set: "+b);a.data.sbset=b}if(a.data.sbopen&&a.type=="sbclose"){a.data.sbopen=0;if(a.data.sbset<0||a.data.sbset==null){this.log("notset");return}a.data.sbset=-1}else{if(a.data.sbopen){this.log("sbopen");return}}this.evtimer=setTimeout(a.data.handler,a.data.delay)},uiidle:function(){this.log("IS check");var b=this.validate();if(!b||this.searched[b]!=null||this.cursearch&&b==this.cursearch.sig){this.log("no change");return}if(this.cursearch&&this.cursearch.rq){this.log("abort");this.cursearch.rq.abort()}var a=R9.utils.formToObject(this.form);a.req_instasearch="y";this.log("Send. sig: "+b);this.cursearch={sig:b,started:new Date().getTime()};this.cursearch.rq=jq.ajax({url:"/instasearch/",data:a,success:jq.proxy(this.search_success,this),error:jq.proxy(this.search_error,this),complete:jq.proxy(this.search_complete,this)})},search_success:function(a){var b=this.cursearch&&this.cursearch.started&&new Date().getTime()-this.cursearch.started||"";this.log("Response: "+a+(b&&" in "+b+"ms."||""));if(this.cursearch){this.searched[this.cursearch.sig]=a}else{this.log("No cursearch")}},search_complete:function(a){this.cursearch=null},search_error:function(a){this.log(a,"error")},beforeSubmit:function(b){var a=b.data.self;var d=a&&a.validate();var f=d&&a.searched[d];if(!d){return}if(a.evtimer){clearTimeout(a.evtimer)}if(f){a.log("IS found: "+a.searched[d]);jq(a.form[0].instasearch_id).val(a.searched[d]);if(!b.data.timer){return true}}if(b.data.timer){if(!f){a.log("IS give up on waiting.")}b.data.self=null;clearTimeout(b.data.timer);a.form.submit();return false}if(!a.cursearch||!a.cursearch.rq||a.cursearch.sig!=d||!b.data.timeout){a.log("No pending IS");return true}try{R9.fd.Form.disableSearchButton()}catch(c){}a.log("IS waiting for "+d);b.data.timer=setTimeout(function(){a.beforeSubmit(b)},b.data.timeout);b.stopImmediatePropagation();return false},log:function(b,a){this.dmsg=this.dmsg||[];this.dmsg.push(b);if(this.debugwin&&!this.debugwin.closed){jq(this.debugwin.document).find("#content").append(b).append("\n")}},dbgwin:function(){if(this.debugwin&&!this.debugwin.closed){return false}this.debugwin=window.open(null,"debug","title=Debug,width=200,height=250,scrollbars=1");this.debugwin.document.body.innerHTML="";var a=jq("<pre id='content' />").appendTo(this.debugwin.document.body);if(this.dmsg){a.append(this.dmsg.join("\n"))}}};R9.extend("fd",{searchHistorySignin:function(){AjaxReg.regtype="savehistory";AjaxReg.ui.register()},toggleRecentHistory:function(){var a=jq("#recenthistorycontainer").find(".fdsectionheaderbottomboot");a[a.is(":visible")?"hide":"show"]();jq(this).toggleClass("arrowSectionHeaderBottom")}});R9.extend("fd",{Form:function(b){var a=this;new Instasearch().attach(b);a.loadSettings(b);a.bindEvents();a.onLoad()}});R9.extend("fd.Form",{disableSearchButton:function(){jq("#fdimgbutton").prop("disabled",true);jq("body").css("cursor","wait")}});R9.extend("fd.Form.prototype",{beget:function(){function a(){}a.prototype=this;return new a()},bindEvents:function(){this.bindResearchFormEvents();this.bindHistory();this.bindSubmit();this.bindSelectTextOnFocus()},bindHistory:function(){var a=this,b=a.e;jq(b).bind("loadHistory",jq.proxy(a.loadHistory,a));jq("#rSearch .recentItemModify a").each(function(){jq(this).click(function(){var c=this;jq("#searchform").fadeOut(400,function(){jq(b).trigger("loadHistory",[jq(c).data("search"),false]);jq("#searchform").fadeIn()});return false})});jq("#rSearch .recentItemLocation a").each(function(){jq(this).click(function(){jq(b).trigger("loadHistory",[jq(this).data("search"),true]);return false})})},bindSubmit:function(){jq(this.e).submit(jq.proxy(this.onSubmit,this))},bindSelectTextOnFocus:function(){jq("input.selectTextOnFocus").one("focus",function(){this.select()})},disableSearchButton:function(){R9.fd.Form.disableSearchButton();this.isSubmitted=true},formatLocation:function(d,a,c,b){if(c==="US"){return d+", "+a}else{if(c==="CA"){return d+", "+a+" "+b}else{return d+", "+b}}},generateSearchUrl:function(){return generateSearchUrl(this.e)},getData:function(){return R9.utils.formToObject(this.e)},getTodayDate:function(){var a=new Date();a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a},loadHistory:function(){return false},loadSettings:function(b){var a=this;a.e=b.e;a.error=null;a.history=b.history||[];a.isSubmitted=false;a.isFullResearchForm=b.isFullResearchForm||false},onLoad:function(){jq("select.defaultSelect").selectmenu();R9.Common.Init.initEllipsisFields();jq(".mainSearchForm input[type=checkbox], input.defaultCheckbox").each(function(){var a=jq(this);var b={};if(a.is("#compareToCheckboxes input")){jq.extend(b,{wrapperElement:""})}a.checkbox(b)})},onSubmit:function(){return true},setSourceForHistory:function(a){jq("input[name=src]").val(a?"recenthisory":"")},swapButtons:function(){if(document.getElementById("fdimgbuttondown")){document.getElementById("fdimgbutton").style.display="none";document.getElementById("fdimgbuttondown").style.display="inline"}else{kykButtonClicked("#fdimgbutton","Searching...")}},callbackRefreshCmp2:function(c){var b=jq(c).val();var a=jq(c).data("__last_blur_value__");if(typeof a=="undefined"){jq(c).data("__last_blur_value__",b)}if(!b||a!=b){compare2chk();jq(c).data("__last_blur_value__",b)}},showPromo:function(){var a=jq("#topMsgBox");if(!a.length){return}a.css({visibility:"visible",display:"block"})},bindResearchFormEvents:function(){if(!this.isFullResearchForm){return}window.cmp2CTR=undefined}});R9.extend("fd",{ODForm:function(a){R9.fd.Form.call(this,a)}});R9.fd.ODForm.prototype=R9.fd.Form.prototype.beget();R9.extend("fd.ODForm.prototype",{bindEvents:function(){R9.fd.Form.prototype.bindEvents.call(this);this.bindMultipleDestinations();this.bindMultipleOrigins();this.bindPTCSelection()},bindMultipleDestinations:function(){jq(this.e.newdestination).change(jq.proxy(this.changeMultipleDestinations,this))},bindMultipleOrigins:function(){jq(this.e.neworigin).change(jq.proxy(this.changeMultipleOrigins,this))},changeMultipleDestinations:function(){var b=this.e,a=b.newdestination.selectedIndex;b.destination.value=b.newdestination.options[a].value;b.destcode.value=""},changeMultipleOrigins:function(){var b=this.e,a=b.neworigin.selectedIndex;b.origin.value=b.neworigin.options[a].value;b.origincode.value=""},clearHelpText:function(a){if(a.value&&a.value.indexOf(" start")==0){a.className="searchbox";a.value=""}},displayFullPTC:function(){if(jq("#travelerSelectionFull").size()>0){if(!jq("#travelerSelectionFull").hasClass("open")){jq(".travelerSelectionBlock").toggleClass("open")}if(jq("#ptcAdults").val()=="0"){jq("#ptcAdults").val(jq("#travelers").val())}jq(".fieldInputNonstop, .fieldInputCabin").addClass("hackPTCLabelHeight")}},adjustChildPTCAges:function(){var a=this;var b=parseInt(jq("#ptcChildren").val(),10);jq(".fieldInputChildAge, .childAgeWarning").hide();if(b==0){a.setInfantLapWarning(0);return}jq(".childAgeWarning").show();(b>=4)?jq(".childAgeSelects").addClass("full"):jq(".childAgeSelects").removeClass("full");jq.each([1,2,3,4,5],function(c,d){if(d<=b){jq(".fieldInputChildAge"+d).show();(d==b)?jq(".fieldInputChildAge"+d).addClass("last"):jq(".fieldInputChildAge"+d).removeClass("last")}});a.setInfantLapWarning(b)},setInfantLapWarning:function(a){jq(".infantInLapWarning").hide();jq(".fieldInputChildAge").removeClass("infantInLap");if(a>0){jq.each([1,2,3,4,5],function(b,c){if(c<=a){var d=jq("#childAge"+c);if(d.val()=="1L"){jq(".infantInLapWarning").show();d.parents(".fieldInputChildAge").addClass("infantInLap")}}})}},bindPTCSelection:function(){var a=this;jq("#showPTCOptionsLink").click(function(){a.displayFullPTC()});jq("#ptcChildren").change(function(){a.adjustChildPTCAges()});jq(".ageSelect").change(function(){a.setInfantLapWarning(parseInt(jq("#ptcChildren").val(),10))});a.adjustChildPTCAges()},checkForPTCErrors:function(e){var b=null;var a=parseInt(e.adults,10);var d=parseInt(e.seniors,10);var f=parseInt(e.children,10);if(a+d+f>6){b="You may only search for up to 6 passengers at a time."}else{if(a+d+f==0){b="Please add at least 1 passenger."}else{if(a+d==0){b="<h2>About unaccompanied minors</h2>KAYAK does not currently support searches for unaccompanied minors. We recommend that you check the minimum age requirements as well as what other fees apply for the airline you plan to book with, <b>before you book.</b><br /><br />Some airlines offer a mandatory unaccompanied minor service for a charge. \n\nMost airlines charge a full fare and also require a charge for unaccompanied minors. Therefore, you may perform your search for an adult."}else{if(f>0){for(var c=1;c<=f;c++){if(e["childAge"+c]==""){b=replaceArgs("Please enter an age for Child {0}.",c);break}}}}}}return b},_extendSelectMenuFeatures:function(){if(typeof jq.ui.selectmenu=="undefined"){return}var b=jq.ui.selectmenu.prototype;var a=b._refreshValue;jq.extend(b,{_refreshValue:function(){a.call(this);if(this.element.is(".ageSelect")){this.newelement.find("."+this.widgetBaseClass+"-status").html(jq(this.element).children(":selected").attr("title"))}}})}});function removesearch(a){jq.get("/s/sparkle",{action:"removesearch",itemid:a,formtoken:R9.globals.formtoken},function(){jq(".rts"+a).remove();if(isSuppressLogin&&jq("table.rts tr").size()==0){jq("#recenthistorycontainer").remove()}})}function popupBlockerMsg(b){try{jq("select").hide()}catch(a){}toggleFaderPane(true,null);showTT(document.getElementById("popupTTIPPos"),document.getElementById("popupWarning").innerHTML,"TL");jq("#tooltipdivimageholder").empty().append("<img align='left' style='margin-right: 8px' src='/images/a-pop-up-ani.gif'>");window.focus();jq.get("/vs/fd/popupblockmsg?action=vs"+(typeof SearchID!="undefined"?"&searchid="+SearchID:""))}if(!window.compare2chk){function popupsearchsubmit(){addAdt("toolbox/changesearch/searchagain");Profiler.markSearchStart();comparewindows(document.searchagain);jq("#getratesbutton").prop("disabled",true);var a=generateSearchUrl(document.searchagain);if(a!=null){window.clearTimeout(window.R9.bookLinksExpiredTimeout);loadResults(a,destroyPopupSearch);return false}return true}function setAllCmp2(a){jq("#compareToCheckboxes span:not(.compareToInputHidden) input:checkbox").prop("checked",a);setCmp2Count();jq.get("/vs/cmpallclk."+_getStartTab()+"?action=vs"+(typeof SearchID!="undefined"?"&searchid="+SearchID:""))}function _getStartTab(){if(window.SearchType&&!window.StartTab){StartTab=SearchType+"s"}return StartTab}function _getSearchForm(){return document[_getStartTab()]||document.searchagain}function startsWith(b,a){return b.match("^"+a)==a}function isEnoughInfoForCmp2(){if(!window.CMP2REQUIREDEST){return true}if(window.StartTab=="cruises"){return true}var a=_getSearchForm();if(a&&jq(a.origin).attr("value")&&!startsWith(jq(a.origincode).attr("value"),"C-")&&jq(a.destination).attr("value")&&!startsWith(jq(a.destcode).attr("value"),"C-")){return true}if(a&&jq(a.othercity).attr("value")){return true}if(a&&jq(a.location).attr("value")){return true}return false}function getCmp2Args(){if(window.flynow){return""}var b=_getStartTab();var c=_getSearchForm();var a="ptype="+b;if(b=="flights"||b=="vacations"){a+="&depart_date="+c.depart_date.value;a+="&return_date="+c.return_date.value;a+="&origin="+c.origin.value;a+="&origincode="+c.origincode.value;a+="&destination="+c.destination.value;a+="&destcode="+c.destcode.value;if(b=="flights"){a+="&cabin="+c.cabin.value;a+="&oneway="+((c.oneway[1].checked)?"true":"false");if(c.student){a+="&student="+c.student.value}}}else{if(b=="hotels"){var a="ptype=hotels";a+="&checkin_date="+c.checkin_date.value;a+="&checkout_date="+c.checkout_date.value;a+="&location="+c.othercity.value;a+="&citycode="+c.citycode.value;a+="&lmid="+c.lmid.value}else{if(b=="cars"){var a="ptype=cars";a+="&pickup_date="+c.pickup_date.value;a+="&dropoff_date="+c.dropoff_date.value;a+="&location1="+c.location.value;a+="&citycode1="+c.citycode1.value;a+="&location2="+c.location2.value;a+="&citycode2="+c.citycode2.value;a+="&oneway="+((c.oneway[1].checked)?"true":"false")}else{if(b=="cruises"){var a="ptype=cruises";a+="&destination="+c.destination.value}else{return""}}}}if(compare2origin!=null){a+="&qryorigin="+compare2origin}return a}var skipCompare=false;var compare2initializing=true;var compare2origin=null;function compare2chk(d){if(compare2initializing||skipCompare){return}if(!isEnoughInfoForCmp2()){R9.Common.cmp2.hideCmp2Row();gradientDialogCleanup();return}var c=_getSearchForm();if(!c){return}var b=this;var a=function(){R9.Common.cmp2.displayCmp2Row();R9.Common.cmp2.showCmp2Boxes();if(typeof d=="function"){d.apply(b,arguments)}};if(typeof c.comparetosite!=="undefined"){R9.Common.cmp2.hideCmp2Boxes();jq.getScript("/s/cmp2chk?"+getCmp2Args(),a)}else{a()}}function allcmp2set(a){if(isOk){R9.Common.cmp2.showCmp2Row();return}R9.Common.cmp2.hideCmp2Row()}function cmp2set(a,e){if(e!=null&&e.indexOf("KAYAK")==0){return}try{var d=jq("#site"+e);var c=jq("#cb"+e);if(a){if(!d.hasClass("compareToInputHidden")){return}d.removeClass("compareToInputHidden");c.prop("checked",c.prop("defaultChecked"));c.val(e);initCmp2CTR();cmp2CTR.recordCheck(e,c.prop("defaultChecked"));cmp2CTR.recordVisible(e,true);return}c.prop("checked",false);d.addClass("compareToInputHidden");initCmp2CTR();cmp2CTR.recordCheck(e,false);cmp2CTR.recordVisible(e,false)}catch(b){}}function cmp2swap(c,b){cmp2set(true,c);try{jq("#cb"+c).val(b)}catch(a){}}function cmp2precheck(c,b){try{jq("#cb"+b).prop("checked",c)}catch(a){}}function setCmp2Count(){if(jq("#compareToCheckboxes").children("span:not(.compareToInputHidden)").size()==0){R9.Common.cmp2.hideCmp2Row()}else{R9.Common.cmp2.displayCmp2Row();R9.Common.cmp2.showCmp2Boxes()}}function checkStudentCabin(a){if(a.value=="e"){toggleStudent(true)}else{toggleStudent(false)}}function toggleStudent(a){if(a){student("0")}else{jq("#student").val("0");jq("#student_link").hide();jq("#non_student_link").hide()}}function student(a){jq("#student").val(a);if(a=="1"){jq("#student_link").hide();jq("#non_student_link").show();jq("#compareALL").hide()}else{jq("#non_student_link").hide();jq("#student_link").show();jq("#compareALL").show()}compare2chk()}function addCheckedCompareTos(b,a){if(typeof b.comparetokayak!="undefined"){_addCheckedCompareTos(b.comparetokayak,a)}var c=b.comparetosite;if(typeof c=="undefined"){return}if(typeof c.length=="undefined"){c=[c]}_addCheckedCompareTos(c,a)}function _addCheckedCompareTos(d,b){for(var c=0;c<d.length;c++){var a=jq(d[c]);if(!a.prop("checked")){continue}if(CMP2_HIDDEN||a.parents(".compareToInputHidden").length!=0){a.prop("checked",false);continue}if(a.val()){b.push({code:a.val(),group:a.attr("class"),input:d[c]})}}}function comparewindows(d){var a=new Array();if(typeof d.comparetosite=="undefined"){return true}addCheckedCompareTos(d,a);var c=new R9.utils.windowopener({searchType:R9.globals.vertical,tileWindows:true});for(var b=0;b<a.length;b++){if(a[b].code!=null&&a[b].code!=""){if(!c.open(b,a[b].code,a.length)){return false}}}return true}function uncheckcomparetos(d){if(d.comparetosite==null){return}if(typeof d.comparetosite.length=="undefined"){jq(d.comparetosite).prop("checked",false);return}initCmp2CTR();cmp2CTR.startUpdate();var e=d.comparetosite;for(var b=0;b<e.length;b++){var a=jq(e[b]);a.prop("checked",false);var c=a.val();cmp2CTR.recordCheck(c,false);cmp2CTR.recordVisible(c,false)}cmp2CTR.endUpdate()}function compareExpediaDom(a){setMetaCookie("EXPEDIA_DFDCMP2",a)}function compareExpediaInt(a){setMetaCookie("EXPEDIA_IFDCMP2",a)}function compareChecked(c){var b="false";if(c.checked){b="true"}var a=c.value;initCmp2CTR();cmp2CTR.recordCheck(a,c.checked);if(a.indexOf("EXPEDIA_DFDCMP2")>=0||a.indexOf("EXPEDIA_IFDCMP2")>=0){window.setTimeout("compareExpediaDom('"+b+"')",500);a="EXPEDIA_FDCMP2"}setMetaCookie(a,b);setCmp2Count()}var CMP2_HIDDEN=false;function compareToClosed(){CMP2_HIDDEN=true;R9.Common.cmp2.hideCmp2Row();R9.Common.cmp2.hideCmp2Boxes();setMetaCookie("hidefdcmp","true")}function compareCheckedKayak(a){var b=document.getElementById("cbKAYAK_FDHCMP2");if(b){saveMeta(b,compareCheckedKayak3)}}function compareCheckedKayak3(){var a=document.getElementById("cbKAYAK2_FDCCMP2");if(a){saveMeta(a,null)}}function saveMeta(b,c){var a="false";if(b.checked){a="true"}setMetaCookie(b.value,a,c)}function cmp2am(a,c){if(c!=null&&c.indexOf("KAYAK")==0){return}var b=jq("#am"+c);if(a){b.removeClass("compareToInputHidden");return}b.addClass("compareToInputHidden")}function addcomparetolist(a){cmp2set(true,a);jq("#cb"+a).prop("checked",true);savedisplay(a,true);compareChecked(document.getElementById("cb"+a));jq("#am"+a).hide();checkmoresites()}function checkmoresites(){var a=true;jq("#addmorecmp2 span").each(function(){a=jq(this).css("display")=="none";if(!a){return false}});if(a){jq("#moresites").hide()}else{jq("#moresites").show()}}function cmp2ForceSingleLine(){var b=9999;jq("#compareToCheckboxes").children("span.cmp2item:not(.compareToInputHidden)").each(function(d){var c=Math.round(jq(this).offset().top);if(c<b){b=c}});var a=0;jq("#compareToCheckboxes").children("span.cmp2item:not(.compareToInputHidden)").each(function(d){var c=Math.round(jq(this).offset().top);if(Math.round(c)-b>5){jq(this).addClass("compareToInputHidden");a++}})}function savedisplay(b,a){setMetaCookie(b+"_disp",a)}function Cmp2CTR(d){this.recordVisible=function(i,h){b(i,4,(h)?"1":"0")};this.recordCheck=function(i,h){b(i,5,(h)?"1":"0")};this.recordTerm=function(h,i){b(h,3,i)};this.startUpdate=function(){f=false};this.endUpdate=function(){e();f=true};var g=d;var c=null;var a=6;var f=true;function b(m,k,n){try{if(c==null){if(g==null){return}c=new Object();var j=g.value.split(";");for(var i in j){var h=j[i].split("|");c[h[0]]=h}}if(3<=k&&k<a){var l=c[m];if(l!=null&&l.length==a&&l[k]!=n){l[k]=n;if(f){e()}}}}catch(o){}}function e(){try{if(c==null){return}if(g==null){return}var i="";for(var h in c){if(i.length>0){i+=";"}i+=c[h].join("|")}g.value=i}catch(j){}}}var cmp2CTR;function initCmp2CTR(){if(typeof(cmp2CTR)=="undefined"){try{cmp2CTR=new Cmp2CTR(document.forms.searchform.c2s)}catch(a){cmp2CTR=null}}}function inlineSearchResubmit(a){try{addAdt("inlinesearch/searchagain");showmessage("Starting new search...");jq("body").css("cursor","wait");Profiler.markSearchStart();inlineSearchValidateCmp2(a);var c=generateSearchUrl(a,true);if(c!=null){window.clearTimeout(window.R9.bookLinksExpiredTimeout);loadResults(c);return false}}catch(b){if(window.R9Admin){alert("Exception "+b+" in inlineSearchResubmit(). Abort");return false}}return true}function inlineSearchValidateCmp2(e){var a=jq(e).find("input[name='comparetosite']");if(a.size()>0){var b=new R9.utils.windowopener({searchType:R9.globals.vertical});var d=a.size();var c=0;a.each(function(g){var f=jq(this).val();if(!b.isThisWindowOpen(f)){jq(this).remove()}else{c++}});addAdt("inlinesearch/cmp2/"+c+"/"+d)}}function setDisplayTabs(c){for(var a=0;a<c.length;a++){var b=jq("#cmp2TabFD"+a);if(b.length==0){break}b.text(c[a])}if(c.length==0){jq("#compareToRow").addClass("compareToRowHidde")}else{if(jq("#tabbedCmpFDContent:visible").length==0){jq("#compareToRow").removeClass("compareToRowHidde");jq("#tabbedCmpFDContent").slideDown(800)}}}function trackCompareToClicks(){if(typeof emos_userEvent1!="function"){return}var a=jq("#compareToCheckboxes").children("span").not(".compareToInputHidden").children("input[type='checkbox']");if(!a.length){return}a.each(function(d,h){var g=jq(h);var j=g.val();var c=g.next("label");if(!c.length){return}var f=jq.trim(c.text());var b=g.prop("checked")?"checked":"unchecked";emos_userEvent1("marker","cmp2_user_click/"+j+" ("+f+")/"+b)})}function attachCmp2EcondaTrackingOnSubmit(){jq(function(){jq("#searchform").submit(trackCompareToClicks)})}var R9=R9||{};R9.extend("cmp2",{openWindows:{init:true}});R9.extend("utils",{windowopener:function(b){if(top!=self){try{if(top.document.location.toString()){this._top=top}}catch(a){}}jq.extend(this.options,b)}});R9.extend("utils.windowopener.prototype",{_top:self,options:{searchType:"",popUnder:true,tileWindows:false,heightRule:false,minWidth:0,minHeight:0,screenWidth:1024,screenHeight:768},open:function(c,f,e,b){var b=this._getUrl(b,f);if(!b){return true}var d=this._getWindowName(f);var a=this._getWindow(b,d,c,e);if(!a){return false}R9.cmp2.openWindows[d]=a;this._handleInitialWindowFocus(a);this._preparePopUpWindow(a);a.init(a);return true},isThisWindowOpen:function(c){if(!c){return false}var b=this._getWindowName(c);var d=R9.cmp2.openWindows[b];try{if(d&&typeof d.r9Open=="object"&&!d.closed){return true}}catch(a){}return false},_getWindow:function(c,e,b,d){try{return this._top.window.open(c,e,"toolbar=0,scrollbars=1,location=1,statusbar=1,menubar=0,resizable=1,top="+this._getWindowTop()+",left="+this._getWindowLeft(b,d)+",width="+this._getWindowWidth(b,d)+",height="+this._getWindowHeight())}catch(a){return false}},_getWindowWidth:function(a,c){if(this.options.tileWindows){return Math.min(this.options.screenWidth,Math.floor(this._getScreenWidth()/c-10))}var b=0;if(typeof(this._top.window.innerWidth)=="number"){b=this._top.window.innerWidth}if(this._top.document.documentElement&&this._top.document.documentElement.clientWidth){b=this._top.document.documentElement.clientWidth}if(this.options.minWidth){return this.options.minWidth>b?this.options.minWidth:b}return b},_getWindowHeight:function(){if(this.options.heightRule){return Math.round(this._getScreenHeight()*0.6)}if(this.options.tileWindows){return this._getScreenHeight()}var a=0;if(typeof(this._top.window.innerHeight)=="number"){a=this._top.window.innerHeight}if(this._top.document.documentElement&&this._top.document.documentElement.clientHeight){a=this._top.document.documentElement.clientHeight}if(this.options.minHeight){return this.options.minHeight>a?this.options.minHeight:a}return a},_getWindowTop:function(){if(this.options.heightRule){return Math.round(this._getScreenHeight()*0.4)}if(this.options.tileWindows){return 0}if(this._top.window.screenTop!=undefined){return this._top.window.screenTop}return this._top.window.screenY},_getWindowLeft:function(a,b){if(this.options.tileWindows){return Math.floor(this._getWindowWidth(a,b)*a+10*a)}if(this._top.window.screenLeft!=undefined){return this._top.window.screenLeft}return this._top.window.screenX},_getWindowName:function(a){if(a.indexOf("_")>0){return a.substring(0,a.indexOf("_"))}return a},_getUrl:function(a,b){if(a!=null){return a}if(this.options.searchType){return"/s/compareresults/startingsearch?type="+this.options.searchType+"&p="+b}return""},_handleInitialWindowFocus:function(a){if(!this.options.popUnder){return}a.blur();if(navigator.userAgent.toLowerCase().indexOf("applewebkit")>-1){this._top.window.blur();this._top.window.focus()}},_preparePopUpWindow:function(a){jq.extend(a,{init:function(b){this._doMozillaMagic();try{b.opener.window.focus()}catch(c){}},_doMozillaMagic:function(){if(typeof window.mozPaintCount=="undefined"){return}var b=this.window.open("about:blank");b.close()}})},_getScreenWidth:function(){if(window.screen.availWidth){return window.screen.availWidth}return window.screen.availWidth},_getScreenHeight:function(){if(window.screen.availHeight){return window.screen.availHeight}return this.options.screenHeight}})};

;var jsck_fdcommon="v459";
/* et=1, mt=11, c=p4, i=sparkle006, v=R122, cc=4, r=none */
